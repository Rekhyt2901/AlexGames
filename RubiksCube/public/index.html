<!DOCTYPE html>
<html lang="de" dir="ltr" style="background-color: #000011; color: #ffffff;">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3dModels</title>
    <script src="./threejs-loader/three.js"></script>
    <script src="./threejs-loader/OrbitControls.js"></script>
    <script src="./threejs-loader/GLTFLoader.js"></script>
</head>

<body style="margin: 0px; overflow-x: hidden; overflow-y: hidden;">
    <script>
        let done = false;
        let cubiesArray = [];
        for (i = 0; i < 3; i++) {
            cubiesArray[i] = [];
            for (j = 0; j < 3; j++) {
                cubiesArray[i][j] = [];
                for (k = 0; k < 3; k++) {
                }
            }
        }

        const scene = new THREE.Scene();
        const light = new THREE.AmbientLight(0xffffff, 2);
        scene.add(light);

        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);

        const renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setClearColor(0xddffdd, 1);
        document.body.appendChild(renderer.domElement);

        const glTFLoader = new THREE.GLTFLoader();

        const controls = new THREE.OrbitControls(camera, renderer.domElement);
        controls.minDistance = 7;
        controls.enableZoom = false;
        controls.target.set(1, 1, 1);
        controls.enablePan = false;

        function addglTF(glTFName, x, y, z) {
            glTFLoader.load("glTFFiles/" + glTFName + ".glb", function (gltf) {
                gltf.scene.scale.set(40, 40, 40);
                gltf.scene.position.set(x, y, z);
                cubiesArray[x][y][z] = gltf.scene;
                if (x === 1 && y === 1 && z === 1) gltf.scene.scale.set(120, 120, 120);
                scene.add(gltf.scene);
                if (x === 2 && y === 2 && z === 0) done = true;
            });
        }

        function loadglTFModels() {
            //first Layer
            addglTF("CornerBOW", 0, 0, 2);
            addglTF("EdgeBW", 1, 0, 2);
            addglTF("CornerBRW", 2, 0, 2);

            addglTF("EdgeOW", 0, 0, 1);
            addglTF("CenterW", 1, 0, 1);
            addglTF("EdgeRW", 2, 0, 1);

            addglTF("CornerGOW", 0, 0, 0);
            addglTF("EdgeGW", 1, 0, 0);
            addglTF("CornerGRW", 2, 0, 0);

            //second Layer
            addglTF("EdgeBO", 0, 1, 2);
            addglTF("CenterB", 1, 1, 2);
            addglTF("EdgeBR", 2, 1, 2);

            addglTF("CenterO", 0, 1, 1);
            addglTF("Middle", 1, 1, 1);
            addglTF("CenterR", 2, 1, 1);

            addglTF("EdgeGO", 0, 1, 0);
            addglTF("CenterG", 1, 1, 0);
            addglTF("EdgeGR", 2, 1, 0);


            //third Layer
            addglTF("CornerBOY", 0, 2, 2);
            addglTF("EdgeBY", 1, 2, 2);
            addglTF("CornerBRY", 2, 2, 2);

            addglTF("EdgeOY", 0, 2, 1);
            addglTF("CenterY", 1, 2, 1);
            addglTF("EdgeRY", 2, 2, 1);

            addglTF("CornerGOY", 0, 2, 0);
            addglTF("EdgeGY", 1, 2, 0);
            addglTF("CornerGRY", 2, 2, 0);
            console.log(cubiesArray);
        }

        function render() {
            if (cubiesArray[0][0][0]) {
                if (cubiesArray[0][0][0].position.x < 4) {
                    cubiesArray[0][0][0].position.x += 0.01;
                }
            }
            controls.update();
            requestAnimationFrame(render);
            renderer.render(scene, camera);
        }



        loadglTFModels();
        render();
    </script>
</body>