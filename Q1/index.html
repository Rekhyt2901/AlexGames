<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Schulplaner</title>
    <link rel="stylesheet" href="../libs/bootstrap/css/bootstrap.css">
    <script defer src="../libs/popper.js"></script>
    <script defer src="../libs/bootstrap/js/bootstrap.js"></script>
    <style>
        body,
        html {
            margin: 0px;
            padding: 0px;
            overflow-x: hidden;
            background-color: aquamarine;
            width: 100vw;
            height: 100vh;
        }

        .headerRow {
            width: 100%;
        }

        .unselectedHeaderTd,
        .selectedHeaderTd {
            display: table-cell;
            font-size: 2.5rem;
            text-align: center;
            width: 33vw;
            background-color: black;
            color: white;
        }

        .selectedHeaderTd {
            color: magenta;
            border: 2px solid magenta;
        }

        h1 {
            text-align: center;
            text-decoration: underline;
            margin-bottom: 5px;
        }

        .SPtable {
            width: 100%;
            margin: 0px;
            padding: 0px;
            border-collapse: collapse;
            border: 5px solid black;
        }

        .SProw1,
        .SProw2 {
            width: 100%;
        }

        .SProw1 .SPtd {
            font-size: 1.8rem;
            text-align: center;
            border: 5px solid black;
        }

        .SProw2 .SPtd {
            font-size: 1.2rem;
            text-align: center;
            border: 2px solid black;
        }

        #KurslisteTable {
            table-layout: fixed;
            word-wrap: break-word;
        }

        #Vertretungsplan table tr td {
            font-size: 2rem;
        }
    </style>
</head>

<body>
    <div class="headerRow">
        <span id="headerTd1" class="selectedHeaderTd">Stundenplan</span>
        <span id="headerTd2" class="unselectedHeaderTd">Kursliste</span>
        <span id="headerTd3" class="unselectedHeaderTd" style="width: 34vw;">Vertretung</span>
    </div>
    <div id="Stundenplan" style="display: block;">
        <div id="faecher" style="display: block;">
            <div class="a">
                <h1>Woche A</h1>
                <table id="SPtableA" class="SPtable">
                    <tr class="SProw1">
                        <td class="SPtd col1">Stunden</td>
                        <td class="SPtd col2 monA">Montag</td>
                        <td class="SPtd col3">Dienstag</td>
                        <td class="SPtd col4">Mittwoch</td>
                        <td class="SPtd col5">Donnerstag</td>
                        <td class="SPtd col6 friA">Freitag</td>
                    </tr>
                    <tr class="SProw2">
                        <td class="SPtd col1">1./2.</td>
                        <td class="SPtd col2 B17 monA"></td>
                        <td class="SPtd col3 BlkA"></td>
                        <td class="SPtd col4 B19" id="fluegelWegFach"></td>
                        <td class="SPtd col5 B12"></td>
                        <td class="SPtd col6 BlkB friA"></td>
                    </tr>
                    <tr class="SProw2">
                        <td class="SPtd col1">3./4.</td>
                        <td class="SPtd col2 B19 monA"></td>
                        <td class="SPtd col3 BlkB"></td>
                        <td class="SPtd col4 B15"></td>
                        <td class="SPtd col5 B13"></td>
                        <td class="SPtd col6 BlkA friA"></td>
                    </tr>
                    <tr class="SProw2">
                        <td class="SPtd col1">5./6.</td>
                        <td class="SPtd col2 B18 monA"></td>
                        <td class="SPtd col3 B11"></td>
                        <td class="SPtd col4 B16"></td>
                        <td class="SPtd col5 B14"></td>
                        <td class="SPtd col6 B18 friA"></td>
                    </tr>
                    <tr class="SProw2">
                        <td class="SPtd col1">7./8.</td>
                        <td class="SPtd col2 B16 monA"></td>
                        <td class="SPtd col3 B14?" id="bullaHinFach"></td>
                        <td class="SPtd col4 BlkA"></td>
                        <td class="SPtd col5 B15" id="gpWegFach"></td>
                        <td class="SPtd col6 B12 friA"></td>
                    </tr>
                    <tr class="SProw2">
                        <td class="SPtd col1">(9.)/10./(11.)</td>
                        <td class="SPtd col2 Bsport14 monA">/</td>
                        <td class="SPtd col3 Bsport2">/</td>
                        <td class="SPtd col4 Bsport35">/</td>
                        <td class="SPtd col5">/</td>
                        <td class="SPtd col6 friA">/</td>
                    </tr>
                </table>
            </div>
            <div class="b">
                <h1>Woche B</h1>
                <table id="SPtableB" class="SPtable">
                    <tr class="SProw1">
                        <td class="SPtd col1">Stunden</td>
                        <td class="SPtd col2 monB">Montag</td>
                        <td class="SPtd col3">Dienstag</td>
                        <td class="SPtd col4">Mittwoch</td>
                        <td class="SPtd col5">Donnerstag</td>
                        <td class="SPtd col6 friB">Freitag</td>
                    </tr>
                    <tr class="SProw2">
                        <td class="SPtd col1">1./2.</td>
                        <td class="SPtd col2 B17 monB"></td>
                        <td class="SPtd col3 BlkA"></td>
                        <td class="SPtd col4 B18p1"></td>
                        <td class="SPtd col5 B12"></td>
                        <td class="SPtd col6 BlkB friB"></td>
                    </tr>
                    <tr class="SProw2">
                        <td class="SPtd col1">3./4.</td>
                        <td class="SPtd col2 B19 monB"></td>
                        <td class="SPtd col3 BlkB"></td>
                        <td class="SPtd col4 B15"></td>
                        <td class="SPtd col5 B13"></td>
                        <td class="SPtd col6 BlkA friB"></td>
                    </tr>
                    <tr class="SProw2">
                        <td class="SPtd col1">5./6.</td>
                        <td class="SPtd col2 B13 monB"></td>
                        <td class="SPtd col3 B11"></td>
                        <td class="SPtd col4 B16"></td>
                        <td class="SPtd col5 B14"></td>
                        <td class="SPtd col6 B18 friB"></td>
                    </tr>
                    <tr class="SProw2">
                        <td class="SPtd col1">7./8.</td>
                        <td class="SPtd col2 B11 monB"></td>
                        <td class="SPtd col3 B15?" id="gpHinFach"></td>
                        <td class="SPtd col4 BlkB"></td>
                        <td class="SPtd col5 B17"></td>
                        <td class="SPtd col6 B14 friB" id="bullaWegFach"></td>
                    </tr>
                    <tr class="SProw2">
                        <td class="SPtd col1">(9./)10.(/11.)</td>
                        <td class="SPtd col2 Bsport14 monB">/</td>
                        <td class="SPtd col3 Bsport2">/</td>
                        <td class="SPtd col4 Bsport35">/</td>
                        <td class="SPtd col5">/</td>
                        <td class="SPtd col6 friB">/</td>
                    </tr>
                </table>
            </div>
        </div>
        <!--//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->
        <div id="raeume" style="display: none;">
            <div class="a">
                <h1>Woche A</h1>
                <table id="SPtableA" class="SPtable">
                    <tr class="SProw1">
                        <td class="SPtd col1">Stunden</td>
                        <td class="SPtd col2 monA">Montag</td>
                        <td class="SPtd col3">Dienstag</td>
                        <td class="SPtd col4">Mittwoch</td>
                        <td class="SPtd col5">Donnerstag</td>
                        <td class="SPtd col6 friA">Freitag</td>
                    </tr>
                    <tr class="SProw2">
                        <td class="SPtd col1">8:10-9:40</td>
                        <td class="SPtd col2 B17r monA"></td>
                        <td class="SPtd col3 BlkAr"></td>
                        <td class="SPtd col4 B19r" id="fluegelWegRaum"></td>
                        <td class="SPtd col5 B12r"></td>
                        <td class="SPtd col6 BlkBr friA"></td>
                    </tr>
                    <tr class="SProw2">
                        <td class="SPtd col1">9:55-11:25</td>
                        <td class="SPtd col2 B19r monA"></td>
                        <td class="SPtd col3 BlkBr"></td>
                        <td class="SPtd col4 B15r"></td>
                        <td class="SPtd col5 B13r"></td>
                        <td class="SPtd col6 BlkAr friA"></td>
                    </tr>
                    <tr class="SProw2">
                        <td class="SPtd col1">11:45-13:15</td>
                        <td class="SPtd col2 B18r monA"></td>
                        <td class="SPtd col3 B11r"></td>
                        <td class="SPtd col4 B16r"></td>
                        <td class="SPtd col5 B14r"></td>
                        <td class="SPtd col6 B18r friA"></td>
                    </tr>
                    <tr class="SProw2">
                        <td class="SPtd col1">13:40-15:10</td>
                        <td class="SPtd col2 B16r monA"></td>
                        <td class="SPtd col3 B14r?" id="bullaHinRaum"></td>
                        <td class="SPtd col4 BlkAr"></td>
                        <td class="SPtd col5 B15r" id="gpWegFach"></td>
                        <td class="SPtd col6 B12r friA"></td>
                    </tr>
                    <tr class="SProw2">
                        <td class="SPtd col1">15:10-17:25</td>
                        <td class="SPtd col2 Bsport14r monA">/</td>
                        <td class="SPtd col3 Bsport2r">/</td>
                        <td class="SPtd col4 Bsport35r">/</td>
                        <td class="SPtd col5">/</td>
                        <td class="SPtd col6 friA">/</td>
                    </tr>
                </table>
            </div>
            <div class="b">
                <h1>Woche B</h1>
                <table id="SPtableB" class="SPtable">
                    <tr class="SProw1">
                        <td class="SPtd col1">Stunden</td>
                        <td class="SPtd col2 monB">Montag</td>
                        <td class="SPtd col3">Dienstag</td>
                        <td class="SPtd col4">Mittwoch</td>
                        <td class="SPtd col5">Donnerstag</td>
                        <td class="SPtd col6 friB">Freitag</td>
                    </tr>
                    <tr class="SProw2">
                        <td class="SPtd col1">8:10-9:40</td>
                        <td class="SPtd col2 B17r monB"></td>
                        <td class="SPtd col3 BlkAr"></td>
                        <td class="SPtd col4 B18p1r"></td>
                        <td class="SPtd col5 B12r"></td>
                        <td class="SPtd col6 BlkBr friB"></td>
                    </tr>
                    <tr class="SProw2">
                        <td class="SPtd col1">9:55-11:25</td>
                        <td class="SPtd col2 B19r monB"></td>
                        <td class="SPtd col3 BlkBr"></td>
                        <td class="SPtd col4 B15r"></td>
                        <td class="SPtd col5 B13r"></td>
                        <td class="SPtd col6 BlkAr friB"></td>
                    </tr>
                    <tr class="SProw2">
                        <td class="SPtd col1">11:45-13:15</td>
                        <td class="SPtd col2 B13r monB"></td>
                        <td class="SPtd col3 B11r"></td>
                        <td class="SPtd col4 B16r"></td>
                        <td class="SPtd col5 B14r"></td>
                        <td class="SPtd col6 B18r friB"></td>
                    </tr>
                    <tr class="SProw2">
                        <td class="SPtd col1">13:40-15:10</td>
                        <td class="SPtd col2 B11r monB"></td>
                        <td class="SPtd col3 B15r?" id="gpHinFach"></td>
                        <td class="SPtd col4 BlkBr"></td>
                        <td class="SPtd col5 B17r"></td>
                        <td class="SPtd col6 B14r friB" id="bullaWegRaum"></td>
                    </tr>
                    <tr class="SProw2">
                        <td class="SPtd col1">15:10-17:25</td>
                        <td class="SPtd col2 Bsport14r monB">/</td>
                        <td class="SPtd col3 Bsport2r">/</td>
                        <td class="SPtd col4 Bsport35r">/</td>
                        <td class="SPtd col5">/</td>
                        <td class="SPtd col6 friB">/</td>
                    </tr>
                </table>
            </div>
        </div>
    </div>

    <div id="Kursliste" style="display: none;">
        <h1 style="font-size: 3rem;">Kursliste</h1>
        <table id="KurslisteTable" class="SPtable">
            <tr class="SProw1">
                <td class="SPtd">Fach</td>
                <td class="SPtd">Kurs</td>
                <td class="SPtd">Lehrer</td>
            </tr>
        </table>
    </div>
    <div id="Vertretungsplan" style="display: none;">
        <h1 id="vertLoading">Loading...</h1>
        <h1 id="vertNoData" style="display: none;">Keine Vertretung :(</h1>
        <h1 id="heuteVertH1" style="display: none;">Heute</h1>
        <table id="vertretungHeute"></table>
        <h1 id="morgenVertH1" style="display: none;">Morgen</h1>
        <table id="vertretungMorgen"></table>
    </div>
</body>

<script>
    let urlParam = [...window.location.search.split("?")[1]];
    for (i in urlParam) urlParam[i] = Number.parseInt(urlParam[i]);

    let SPtdArray = document.getElementsByClassName("SPtd");
    SPtdArray = Array.from(SPtdArray);

    document.getElementById("raeume").onclick = switchAandB;
    document.getElementById("faecher").onclick = switchAandB;

    function switchAandB() {
        document.getElementById("raeume").style.display = document.getElementById("raeume").style.display === "block" ? "none" : "block";
        document.getElementById("faecher").style.display = document.getElementById("faecher").style.display === "block" ? "none" : "block";
    }

    document.getElementById("headerTd1").onclick = function () {
        document.getElementById("headerTd1").setAttribute("class", "selectedHeaderTd");
        document.getElementById("headerTd2").setAttribute("class", "unselectedHeaderTd");
        document.getElementById("headerTd3").setAttribute("class", "unselectedHeaderTd");
        document.getElementById("Stundenplan").style.display = "block";
        document.getElementById("Kursliste").style.display = "none";
        document.getElementById("Vertretungsplan").style.display = "none";
    }

    document.getElementById("headerTd2").onclick = function () {
        document.getElementById("headerTd2").setAttribute("class", "selectedHeaderTd");
        document.getElementById("headerTd1").setAttribute("class", "unselectedHeaderTd");
        document.getElementById("headerTd3").setAttribute("class", "unselectedHeaderTd");
        document.getElementById("Stundenplan").style.display = "none";
        document.getElementById("Kursliste").style.display = "block";
        document.getElementById("Vertretungsplan").style.display = "none";
    }

    document.getElementById("headerTd3").onclick = function () {
        document.getElementById("headerTd3").setAttribute("class", "selectedHeaderTd");
        document.getElementById("headerTd1").setAttribute("class", "unselectedHeaderTd");
        document.getElementById("headerTd2").setAttribute("class", "unselectedHeaderTd");
        document.getElementById("Stundenplan").style.display = "none";
        document.getElementById("Kursliste").style.display = "none";
        document.getElementById("Vertretungsplan").style.display = "block";
    }

    window.mobileCheck = function () {
        let check = false;
        (function (a) { if (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0, 4))) check = true; })(navigator.userAgent || navigator.vendor || window.opera);
        return check;
    };

    function newFach(kurz, fach, raum, lehrer) {
        let data = {
            kurz: kurz,
            fach: fach,
            raum: raum,
            lehrer: lehrer
        };
        return data;
    }

    let bloecke = [
        [ //lkA
            newFach("/", "/", "/", "/"),
            newFach("CH L1", "Chemie", "ext2", "zzM"), //zzM
            newFach("Bi L1", "Bio", "Bi1/Bi2", "Ertel"), //Ert
            newFach("E5 L2", "Englisch", "N312/N318", "Sträßer"), //Stß
            newFach("Ku L1", "Kunst", "W136", "Bisping"), //Bis
            newFach("Sp L1", "Sport", "ext2", "zzM"), //zzM
            newFach("EW L2", "EW", "P6/K194", "Töpfer"), //Töp
            newFach("M  L2", "Mathe", "K196", "Aßmann"), //Aß
            newFach("D  L2", "Deutsch", "P3", "Abstiens-Gutzmer")  //AG
        ],
        [ //lkB
            newFach("/", "/", "/", "/"),
            newFach("E5 L1", "Englisch", "N319/N311", "Rickert"), //Ric
            newFach("D  L1", "Deutsch", "P3/P1", "Weber"), //Wbr
            newFach("M  L1", "Mathe", "K195", "Marczok"), //Mar
            newFach("GE L1", "Geschichte", "S201", "Schlecking"), //Shl
            newFach("SW L1", "Sowi", "ext2", "zzM"), //zzM
            newFach("EW L1", "EW", "K194", "Jakubowski"), //Jkb
            newFach("EK L1", "Erdkunde", "S309", "Becht")  //Bct
        ],
        [ //11. /kunst
            newFach("/", "/", "/", "/"),
            newFach("KU G1", "Kunst", "W136", "Kliszat"), //Kli
            newFach("KU G2", "Kunst", "K94/W138", "Flügel"), //Flü
            newFach("MU G1", "Musik", "W140/W136", "Härtel"), //Hrt
            newFach("Lt G1", "Literatur", "P1/W136", "Steinart"), //Ste
            newFach("Ku G3", "Kunst", "W136/W140", "Jakubowski"), //Jkb
            newFach("Lt G2", "Literatur", "P3", "Föster")  //Fös
        ],
        [ //12.
            newFach("/", "/", "/", "/"),
            newFach("GE G1", "Geschichte", "S201", "Becht"), //Bct
            newFach("GE G2", "Geschichte", "S301", "Denuell-Diekmann"), //DD
            newFach("GeEG1", "Geschichte", "N311", "Weber"),//Web
            newFach("GE G3", "Geschichte", "S302", "Häder"), //Hdr
            newFach("E5 G1", "Englisch", "N312", "Landgraf")  //Ldg
        ],
        [ //13. /Reli
            newFach("/", "/", "/", "/"),
            newFach("ER G1", "Reli", "S409", "Born"), //Bor
            newFach("KR G1", "Reli", "S408", "Haselhoff"), //Hhf
            newFach("PL G1", "Philo", "P9", "Abstiens-Gutzmer"), //AG
            newFach("PL G2", "Philo", "P1/P8", "Weber"), //Wbr
            newFach("ER G2", "Reli", "S302/N211", "Thiemann")  //Thi
        ],
        [ //14.
            newFach("/", "/", "/", "/"),
            newFach("E5 G3", "Englisch", "N319", "Weber"), //Web
            newFach("BI G1", "Bio", "Bi1/Bi2", "Krewitt"), //Kre
            newFach("D  G2", "Deutsch", "P1", "Köhler"), //Köh
            newFach("M  G3", "Mathe", "N211", "Schoß"), //Shß
            newFach("EK G1", "Erdkunde", "S309", "Bulla")  //Bul
        ],
        [ //15.
            newFach("/", "/", "/", "/"),
            newFach("D  G3", "Deutsch", "P1", "Häder"), //Hdr
            newFach("SW G2", "Sowi", "S310", "Beckmann"), //Bec
            newFach("BI G4", "Bio", "Bi1", "Gonzalez-Platta"), //GP
            newFach("E5 G2", "Englisch", "N311", "Mladenovska"), //Mla
            newFach("Ph G1", "Physik", "Ph1", "Studentkowski")  //Std
        ],
        [ //16.
            newFach("/", "/", "/", "/"),
            newFach("M  G1", "Mathe", "N212", "Sobotta"), //Sbt
            newFach("BI G2", "Bio", "Bi2", "Pagenkopf"), //Pag
            newFach("E5 G4", "Englisch", "N311/N317", "Benning"), //Bng
            newFach("EW G2", "EW", "K194/N411", "Töpfer"), //Töp
            newFach("SW G1", "Sowi", "K191", "Mladenovska")  //Mla
        ],
        [ //17.
            newFach("/", "/", "/", "/"),
            newFach("EK G2", "Erdkunde", "S309", "Werner"), //Wer
            newFach("D  G1", "Deutsch", "P2", "Colditz"), //Col
            newFach("BI G3", "Bio", "Bi1", "Köhler"), //Köh
            newFach("CH G2", "Chemie", "Ch2", "Pache"), //Pac
            newFach("M  G2", "Mathe", "N212", "Zwiener")  //Zwi
        ],
        [ //18.
            newFach("/", "/", "/", "/"),
            newFach("D  G4", "Deutsch", "P1", "Dietrich"), //Dtr
            newFach("CH G1", "Chemie", "Ch2", "Schoß"), //Shß
            newFach("IF G1", "Info", "If1", "Porrman"), //Por
            newFach("IF G2", "Info", "If2", "Vormann"), //Vor
            newFach("S  G1", "Spanisch", "P7", "Kirchhoff"), //Khf
            newFach("S0 G1", "Spanisch", "P8/P6", "Linnebank")  //Lin
        ],
        [ //19.
            newFach("/", "/", "/", "/"),
            newFach("CH G3", "Chemie", "Ch2/Ch1", "Porrman"), //Por
            newFach("L6 G1", "Latein", "N410", "Klanert"), //Knt
            newFach("S0 G2", "Spanisch", "P7", "Luqe"), //Luq
            newFach("EW G1", "EW", "K194", "Flügel"), //Flü
            newFach("M  G4", "Mathe", "N211", "Schubert"), //Scb
            newFach("ER G3", "Reli", "S407", "Born"), //Bor
            newFach("F6 G1", "Franze", "N417", "Laforet")  //Laf
        ],
        [ //B18p1
            newFach("/", "/", "/", "/"),
            newFach("S0 G2", "Spanisch", "P7", "Luqe"), //Luq
            newFach("S0 G1", "Spanisch", "P7", "Linnebank"), //Lin
            newFach("EW G1", "EW", "K194", "Flügel")  //Flü
        ],
        [ //sport
            newFach("/", "/", "/", "/"),
            newFach("Sp G1", "Sport", "Hal3", "Klanert"), //Knt
            newFach("Sp G4", "Sport", "Hal2", "Bulla"), //Bul
            newFach("Sp G2", "Sport", "Hal1", "Schubert"), //Scb
            newFach("Sp G3", "Sport", "Hal2", "Landgraf"), //Ldg
            newFach("Sp G5", "Sport", "Hal1", "Sträßer")  //Stß
        ]
    ]; //Alex Kurse: 7123405024101      Laurenz Kurse: 2363301305432
    let blockNames = ["BlkA", "BlkB", "B11", "B12", "B13", "B14", "B15", "B16", "B17", "B18", "B19", "B18p1"]; //+sport

    //Fächer darstellen
    for (let i = 0; i < blockNames.length; i++) {
        for (item of document.getElementsByClassName(blockNames[i])) {
            item.textContent = bloecke[i][urlParam[i]].fach;
        }
    }
    if (bloecke[12][urlParam[12]].kurz === "Sp G1" ||
        bloecke[12][urlParam[12]].kurz === "Sp G4") {
        for (item of document.getElementsByClassName("Bsport14")) item.textContent = bloecke[12][urlParam[12]].fach;
    }
    if (bloecke[12][urlParam[12]].kurz === "Sp G2") {
        for (item of document.getElementsByClassName("Bsport2")) item.textContent = bloecke[12][urlParam[12]].fach;
    }
    if (bloecke[12][urlParam[12]].kurz === "Sp G3" ||
        bloecke[12][urlParam[12]].kurz === "Sp G5") {
        for (item of document.getElementsByClassName("Bsport35")) item.textContent = bloecke[12][urlParam[12]].fach;
    }

    //Räume darstellen
    for (let i = 0; i < blockNames.length; i++) {
        for (item of document.getElementsByClassName(blockNames[i] + "r")) {
            item.textContent = bloecke[i][urlParam[i]].raum;
        }
    }
    if (bloecke[12][urlParam[12]].kurz === "Sp G1" ||
        bloecke[12][urlParam[12]].kurz === "Sp G4") {
        for (item of document.getElementsByClassName("Bsport14")) item.textContent = bloecke[12][urlParam[12]].raum;
    }
    if (bloecke[12][urlParam[12]].kurz === "Sp G2") {
        for (item of document.getElementsByClassName("Bsport2")) item.textContent = bloecke[12][urlParam[12]].raum;
    }
    if (bloecke[12][urlParam[12]].kurz === "Sp G3" ||
        bloecke[12][urlParam[12]].kurz === "Sp G5") {
        for (item of document.getElementsByClassName("Bsport35")) item.textContent = bloecke[12][urlParam[12]].raum;
    }


    //Komische blöcke wo was fehlt -.-
    if (urlParam[5] === 5) { //Block 14 Bulla
        document.getElementById("bullaWegFach").textContent = "/";
        document.getElementById("bullaHinFach").textContent = bloecke[5][urlParam[5]].fach;

        document.getElementById("bullaWegRaum").textContent = "/";
        document.getElementById("bullaHinRaum").textContent = bloecke[5][urlParam[5]].raum;
    }

    if (urlParam[6] === 3) { //Block 15 Gonzalez-Platta
        document.getElementById("gpWegFach").textContent = "/";
        document.getElementById("gpHinFach").textContent = bloecke[6][urlParam[6]].fach;

        document.getElementById("gpWegRaum").textContent = "/";
        document.getElementById("gpHinRaum").textContent = bloecke[6][urlParam[6]].raum;
    }

    if (urlParam[10] === 4) { //Block 19 Flügel
        document.getElementById("fluegelWegFach").textContent = "/";
        document.getElementById("fluegelWegRaum").textContent = "/";
    }


    //Kursliste
    for (let i = 0; i < urlParam.length; i++) {
        if (urlParam[i] != 0 && i != 11) {
            let kurslisteTR = document.createElement("tr");
            kurslisteTR.setAttribute("class", "SProw2")

            let tdFach = document.createElement("td");
            tdFach.setAttribute("class", "SPtd");
            tdFach.textContent = bloecke[i][urlParam[i]].fach;
            let tdKurz = document.createElement("td");
            tdKurz.setAttribute("class", "SPtd");
            tdKurz.textContent = bloecke[i][urlParam[i]].kurz;
            let tdLehrer = document.createElement("td");
            tdLehrer.setAttribute("class", "SPtd");
            tdLehrer.textContent = bloecke[i][urlParam[i]].lehrer;

            kurslisteTR.appendChild(tdFach);
            kurslisteTR.appendChild(tdKurz);
            kurslisteTR.appendChild(tdLehrer);

            document.getElementById("KurslisteTable").appendChild(kurslisteTR);
        }
    }


    async function loadVertretung() {
        let filterKurse = [];
        for (let i = 0; i < urlParam.length; i++) {
            filterKurse[i] = bloecke[i][urlParam[i]].kurz;
        }
        //console.log(filterKurse);
        //let meineFilterKurse = ['D  G1', 'E5 L1', 'Ku G2', 'GeEG1', 'PL G2', 'M  L2', 'Ph G1', 'IF G2', 'CH G3', 'Sp G1'];
        const options = {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify(filterKurse)
        };
        let vertData = await fetch("https://dsb-server.herokuapp.com/", options);
        vertData = await vertData.json();
        console.table(vertData.heute);
        console.table(vertData.morgen);

        if (vertData.morgen.length === 0 && vertData.heute.length === 0) {
            document.getElementById("vertNoData").style.display = "block";
        } else {
            document.getElementById("heuteVertH1").style.display = "block";
            document.getElementById("morgenVertH1").style.display = "block";
        }

        document.getElementById("vertLoading").style.display = "none";
        let vertretungHeute = document.getElementById("vertretungHeute");
        vertretungHeute.setAttribute("class", "SPtable");
        let vertretungMorgen = document.getElementById("vertretungMorgen");
        vertretungMorgen.setAttribute("class", "SPtable");

        for (let i = 0; i < vertData.heute.length; i++) {
            let vertRow = document.createElement("tr");
            vertRow.setAttribute("class", "SProw1");

            let vertKurs = document.createElement("td");
            vertKurs.textContent = vertData.heute[i].Kurs;
            vertKurs.setAttribute("class", "SPtd");
            vertRow.appendChild(vertKurs);

            let vertStunde = document.createElement("td");
            vertStunde.textContent = vertData.heute[i].Stunde;
            vertStunde.setAttribute("class", "SPtd");
            vertRow.appendChild(vertStunde);

            let vertArt = document.createElement("td");
            vertArt.textContent = vertData.heute[i].Art;
            vertArt.setAttribute("class", "SPtd");
            vertRow.appendChild(vertArt);

            let vertRaum = document.createElement("td");
            vertRaum.textContent = vertData.heute[i].Raum;
            vertRaum.setAttribute("class", "SPtd");
            vertRow.appendChild(vertRaum);

            vertretungHeute.appendChild(vertRow);
        }

        for (let i = 0; i < vertData.morgen.length; i++) {
            let vertRow = document.createElement("tr");
            vertRow.setAttribute("class", "SProw1");

            let vertKurs = document.createElement("td");
            vertKurs.textContent = vertData.morgen[i].Kurs;
            vertKurs.setAttribute("class", "SPtd");
            vertRow.appendChild(vertKurs);

            let vertStunde = document.createElement("td");
            vertStunde.textContent = vertData.morgen[i].Stunde;
            vertStunde.setAttribute("class", "SPtd");
            vertRow.appendChild(vertStunde);

            let vertArt = document.createElement("td");
            vertArt.textContent = vertData.morgen[i].Art;
            vertArt.setAttribute("class", "SPtd");
            vertRow.appendChild(vertArt);

            let vertRaum = document.createElement("td");
            vertRaum.textContent = vertData.morgen[i].Raum;
            vertRaum.setAttribute("class", "SPtd");
            vertRow.appendChild(vertRaum);

            vertretungMorgen.appendChild(vertRow);
        }
        if (window.mobileCheck()) {
            for (item of document.querySelectorAll("#Vertretungsplan table tr td")) item.style.fontSize = "1rem";
        }
    }

    loadVertretung();

    if (window.mobileCheck()) {
        for (item of document.querySelectorAll("#KurslisteTable tr td")) item.style.fontSize = "1.2rem";

        console.log("mobile detected!");

        let cols = [];
        cols[1] = document.getElementsByClassName("col1"); //time
        cols[2] = document.getElementsByClassName("col2"); //mon
        cols[3] = document.getElementsByClassName("col3"); //tue
        cols[4] = document.getElementsByClassName("col4"); //wed
        cols[5] = document.getElementsByClassName("col5"); //thu
        cols[6] = document.getElementsByClassName("col6"); //fri

        for (i = 1; i < cols.length; i++) for (item of cols[i]) item.style.display = "none";
        let day = new Date().getDay();
        if (day === 0) day = 1;
        if (day === 6) day = 1;
        if (day != 5) {
            for (item of cols[day + 1]) item.style.display = "table-cell";
            for (item of cols[day + 2]) item.style.display = "table-cell";
        }

        function ISO8601_week_no(dt) {
            var tdt = new Date(dt.valueOf());
            var dayn = (dt.getDay() + 6) % 7;
            tdt.setDate(tdt.getDate() - dayn + 3);
            var firstThursday = tdt.valueOf();
            tdt.setMonth(0, 1);
            if (tdt.getDay() !== 4) {
                tdt.setMonth(0, 1 + ((4 - tdt.getDay()) + 7) % 7);
            }
            return 1 + Math.ceil((firstThursday - tdt) / 604800000);
        }
        let week = ISO8601_week_no(new Date());
        if (new Date().getDay() === 0 || new Date().getDay() === 6) week++;

        let a = true; //odd week = a
        if (week % 2 === 0) a = false;
        let friday = false;
        if (day == 5) friday = true;

        if (friday) {
            if (a) {
                for (item of document.getElementsByClassName("friA")) item.style.display = "table-cell"; //friday
                for (item of document.getElementsByClassName("monB")) item.style.display = "table-cell"; //monday
            }
            if (!a) {
                for (item of document.getElementsByClassName("friB")) item.style.display = "table-cell"; //friday
                for (item of document.getElementsByClassName("monA")) item.style.display = "table-cell"; //monday
            }
            for (item of cols[1]) item.style.display = "table-cell";
        }

        if (a && !friday) for (item of document.getElementsByClassName("b")) item.style.display = "none";
        if (!a && !friday) for (item of document.getElementsByClassName("a")) item.style.display = "none";

        for (item of document.getElementsByTagName("span")) item.style.fontSize = "2rem";

        for (item of document.querySelectorAll(".headerRow span")) item.style.fontSize = "1.35rem";
    }
</script>

</html>